!function(){"use strict";var l=0,t=['.shellout-widget{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;border-radius:8px;box-sizing:border-box;line-height:1.4;text-align:left;}',".shellout-widget *{box-sizing:border-box;margin:0;padding:0;}",".shellout-light{background:#FFFFFF;border:1px solid #E5E7EB;color:#111827;}",".shellout-dark{background:#1F2937;border:1px solid #374151;color:#F9FAFB;}",".shellout-full{width:300px;padding:20px;}",".shellout-full .shellout-header{text-align:center;margin-bottom:14px;}",".shellout-full .shellout-score{font-size:42px;font-weight:700;line-height:1;}",".shellout-full .shellout-label{font-size:11px;text-transform:uppercase;letter-spacing:0.05em;margin-top:4px;}",".shellout-light .shellout-label{color:#6B7280;}",".shellout-dark .shellout-label{color:#9CA3AF;}",".shellout-full .shellout-metrics{margin-top:14px;display:grid;grid-template-columns:1fr 1fr;gap:8px;}",".shellout-full .shellout-metric{font-size:13px;padding:6px 0;}",".shellout-full .shellout-metric-value{font-weight:600;}",".shellout-full .shellout-metric-label{font-size:11px;}",".shellout-light .shellout-metric-label{color:#6B7280;}",".shellout-dark .shellout-metric-label{color:#9CA3AF;}",".shellout-full .shellout-flags{margin-top:10px;padding:8px;border-radius:6px;font-size:12px;}",".shellout-light .shellout-flags{background:#FEF2F2;color:#DC2626;}",".shellout-dark .shellout-flags{background:#451a1a;color:#FCA5A5;}",".shellout-full .shellout-no-history{text-align:center;padding:12px 0;font-size:13px;}",".shellout-light .shellout-no-history{color:#6B7280;}",".shellout-dark .shellout-no-history{color:#9CA3AF;}",".shellout-compact{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;font-size:14px;}",".shellout-compact .shellout-score{font-size:16px;font-weight:700;}",".shellout-compact .shellout-sep{opacity:0.4;}",".shellout-score-good{color:#059669;}",".shellout-score-medium{color:#D97706;}",".shellout-score-low{color:#DC2626;}",".shellout-score-none{opacity:0.4;}",".shellout-footer{margin-top:14px;font-size:11px;text-align:center;}",".shellout-light .shellout-footer{color:#9CA3AF;}",".shellout-dark .shellout-footer{color:#6B7280;}",".shellout-footer a{text-decoration:none;}",".shellout-light .shellout-footer a{color:#3B82F6;}",".shellout-dark .shellout-footer a{color:#60A5FA;}",".shellout-compact .shellout-brand{text-decoration:none;font-size:12px;}",".shellout-light .shellout-brand{color:#3B82F6;}",".shellout-dark .shellout-brand{color:#60A5FA;}",".shellout-loading{display:flex;align-items:center;justify-content:center;min-height:80px;gap:8px;padding:20px;}",".shellout-light .shellout-loading{color:#6B7280;}",".shellout-dark .shellout-loading{color:#9CA3AF;}",".shellout-spinner{width:16px;height:16px;border:2px solid currentColor;border-right-color:transparent;border-radius:50%;display:inline-block;animation:shellout-spin 0.7s linear infinite;}","@keyframes shellout-spin{to{transform:rotate(360deg);}}",".shellout-error{text-align:center;padding:20px;font-size:13px;}",".shellout-light .shellout-error{color:#6B7280;}",".shellout-dark .shellout-error{color:#9CA3AF;}",".shellout-error-icon{font-size:20px;margin-bottom:6px;}",".shellout-retry-btn{margin-top:10px;padding:5px 16px;border-radius:6px;border:none;cursor:pointer;font-size:12px;font-weight:500;}",".shellout-light .shellout-retry-btn{background:#F3F4F6;color:#374151;border:1px solid #D1D5DB;}",".shellout-dark .shellout-retry-btn{background:#374151;color:#E5E7EB;border:1px solid #4B5563;}",".shellout-retry-btn:hover{opacity:0.85;}"].join("\n");function e(l){return l>=70?"shellout-score-good":l>=40?"shellout-score-medium":"shellout-score-low"}function o(l){var t=document.createElement("div");return t.textContent=l,t.innerHTML}function s(t){var r=t.getAttribute("data-shellout");if(r&&r.trim()){var i=t.getAttribute("data-shellout-size")||"full",n=t.getAttribute("data-shellout-theme")||"light",a="shellout-"+ ++l;t.setAttribute("data-shellout-id",a),t.innerHTML=function(l,t){return'<div class="shellout-widget shellout-loading '+("compact"===t?"shellout-compact":"shellout-full")+" shellout-"+o(l)+'"><span class="shellout-spinner"></span> Loading…</div>'}(n,i),function(l){return fetch("https://api.shellout.ai/v1/reputation/"+encodeURIComponent(l)).then(function(l){if(!l.ok)throw new Error("HTTP "+l.status);return l.json()}).then(function(l){if(!l.success)throw new Error(l.error&&l.error.message||"Request failed");return l.data})}(r).then(function(l){t.innerHTML="compact"===i?function(l,t){var s=l.metrics&&l.metrics.total_transactions>0,r=s?e(l.score):"shellout-score-none",i=s?o(String(l.score)):"&mdash;";return'<div class="shellout-widget shellout-compact shellout-'+o(t)+'"><span class="shellout-score '+r+'">'+i+'</span><span class="shellout-sep">/100</span><a class="shellout-brand" href="https://shellout.ai" target="_blank" rel="noopener">Shell Out</a></div>'}(l,n):function(l,t){var s=l.metrics&&l.metrics.total_transactions>0,r=s?e(l.score):"shellout-score-none",i=s?o(String(l.score)):"&mdash;",n="";if(s){var a=l.metrics;n='<div class="shellout-metrics"><div class="shellout-metric"><div class="shellout-metric-value">'+o(String(a.total_transactions))+'</div><div class="shellout-metric-label">Transactions</div></div><div class="shellout-metric"><div class="shellout-metric-value">'+o(String(a.unique_counterparties))+'</div><div class="shellout-metric-label">Counterparties</div></div><div class="shellout-metric"><div class="shellout-metric-value">'+o(String(a.activity_span_days))+'d</div><div class="shellout-metric-label">Active Period</div></div><div class="shellout-metric"><div class="shellout-metric-value">'+o(String(a.transactions_7d))+'</div><div class="shellout-metric-label">Last 7 Days</div></div></div>'}else n='<div class="shellout-no-history">No transaction history</div>';var u="";return l.flags&&l.flags.length>0&&(u='<div class="shellout-flags">'+l.flags.map(function(l){return o(String(l))}).join(", ")+"</div>"),'<div class="shellout-widget shellout-full shellout-'+o(t)+'"><div class="shellout-header"><div class="shellout-score '+r+'">'+i+'</div><div class="shellout-label">Reputation Score</div></div>'+n+u+'<div class="shellout-footer"><a href="https://shellout.ai" target="_blank" rel="noopener">Powered by Shell Out</a></div></div>'}(l,n)}).catch(function(){t.innerHTML=function(l,t,e){return'<div class="shellout-widget shellout-error '+("compact"===t?"shellout-compact":"shellout-full")+" shellout-"+o(l)+'"><div class="shellout-error-icon">⚠</div><div>Could not load reputation</div><button class="shellout-retry-btn" data-shellout-retry="'+e+'">Retry</button></div>'}(n,i,a);var l=t.querySelector("[data-shellout-retry]");l&&l.addEventListener("click",function(){s(t)})})}}function r(){!function(){if(!document.getElementById("shellout-styles")){var l=document.createElement("style");l.id="shellout-styles",l.textContent=t,(document.head||document.documentElement).appendChild(l)}}();for(var l=document.querySelectorAll("[data-shellout]"),e=0;e<l.length;e++)s(l[e])}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r(),window.ShellOut={init:r,initWidget:s}}();